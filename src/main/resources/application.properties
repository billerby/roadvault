spring.application.name=roadvault

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/roadvault
spring.datasource.username=${POSTGRES_USER:postgres}
spring.datasource.password=${POSTGRES_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=true
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true


# Liquibase
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml
spring.liquibase.enabled=true

# Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=DEBUG
logging.level.com.billerby.roadvault=DEBUG
logging.level.org.springframework.web=DEBUG

# Server
server.port=8080
# server.servlet.context-path=/api  # Removed - serve frontend from root

# JWT Configuration
roadvault.app.jwtSecret=${ROADVAULT_APP_JWTSECRET:a7fd3e10f4b94752a3e7da5ee63f4f82a7fd3e10f4b94752a3e7da5ee63f4f82}
roadvault.app.jwtExpirationMs=86400000

# Disable Spring Boot's auto-configuration for FreeMarker MVC
spring.freemarker.enabled=false

# Email Configuration
spring.mail.host=${SPRING_MAIL_HOST:email-smtp.us-east-1.amazonaws.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:defaultusername}
spring.mail.password=${SPRING_MAIL_PASSWORD:defaultpassword}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email Settings
mail.fromAddress=${MAIL_FROM_ADDRESS:billerby@gmail.com}
mail.subject=${MAIL_SUBJECT:Faktura fr�n Apelg�rdens v�gsamf�llighet}

# Badtemperatur
badtemperatur.api.url=https://eu1.cloud.thethings.network/api/v3/as/applications/badtemperatur-application/devices/eui-a840411f8182f655/packages/storage/uplink_message?limit=1&order=-received_at
badtemperatur.token=${BADTEMPERATUR_TOKEN:Bearer NNSXS.S76DJLOII6MM3KN5BNKCXADEAFGWIMUVGYQT6JQ.ZEFBXQFCBYD4MXEARMXMW3KSSY4CEALSWU355DG22OTSRPK4T6VA}
